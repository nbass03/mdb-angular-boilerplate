(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{CedQ:function(t,e,n){"use strict";n.r(e);var o=n("CcnG"),r=function(){return function(){}}(),l=n("cyBs"),c=n("y5Pl"),i=n("M+1Z"),u=n("JEFa"),a=n("pMnS"),s=n("OMr1"),p=n("DCf/"),d=n("MZFh"),b=n("Ip0R"),j=n("yGQT"),f=function(t){return t.PROJECTS_QUERY="[Projects] Projects query",t.PROJECTS_LOADED="[Projects] Projects loaded",t.PROJECT_ADDED="[Projects] Project added",t.PROJECT_EDITED="[Projects] Project edited",t.PROJECT_DELETED="[Projects] Project deleted",t.PROJECTS_ERROR="[Projects] Projects error",t}({}),h=function(){return function(){this.type=f.PROJECTS_QUERY}}(),O=function(){return function(t){this.payload=t,this.type=f.PROJECTS_LOADED}}(),D=function(){return function(t){this.payload=t,this.type=f.PROJECT_ADDED}}(),y=function(){return function(t){this.payload=t,this.type=f.PROJECT_EDITED}}(),E=function(){return function(t){this.payload=t,this.type=f.PROJECT_DELETED}}(),m=function(){return function(t){this.payload=t,this.type=f.PROJECTS_ERROR}}(),P=Object(j.B)("projects"),R=Object(j.D)(P,function(t){return t.projects}),g=Object(j.D)(P,function(t){return t.loading}),v=(Object(j.D)(P,function(t){return t.error}),n("67Y/")),_=n("t9fZ"),C=n("d2bA"),T=n("qyy/"),w=function(){return(w=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},J=function(){function t(t,e,n){this.store=t,this.modalService=e,this.afAuth=n,this.modalConfig={class:"modal-dialog-centered"}}return t.prototype.ngOnInit=function(){var t=this;this.isLoading$=this.store.select(g),this.projects$=this.store.pipe(Object(j.E)(R),Object(v.a)(function(e){return t.user&&!e&&t.store.dispatch(new h),e}))},Object.defineProperty(t.prototype,"user",{get:function(){return this.afAuth.auth.currentUser},enumerable:!0,configurable:!0}),t.prototype.openAddProjectModal=function(){var t=this;this.modalRef=this.modalService.show(T.a,this.modalConfig),this.modalRef.content.heading="Add new project",this.modalRef.content.projectData.pipe(Object(_.a)(1)).subscribe(function(e){t.store.dispatch(new D({project:e}))})},t.prototype.openEditProjectModal=function(t){var e=this;this.modalRef=this.modalService.show(T.a,this.modalConfig),this.modalRef.content.heading="Edit project";var n=w({},t);this.modalRef.content.project=n,this.modalRef.content.projectData.pipe(Object(_.a)(1)).subscribe(function(t){e.store.dispatch(new y({project:t}))})},t.prototype.openConfirmModal=function(t){var e=this;this.modalRef=this.modalService.show(C.a,this.modalConfig),this.modalRef.content.confirmation.pipe(Object(_.a)(1)).subscribe(function(n){n&&e.store.dispatch(new E({project:t}))})},t.prototype.onProjectDelete=function(t){this.openConfirmModal(t)},t.prototype.onProjectEdit=function(t){this.openEditProjectModal(t)},t}(),S=n("ZBkt"),$=o.rb({encapsulation:0,styles:[[""]],data:{}});function k(t){return o.Nb(0,[(t()(),o.tb(0,0,null,null,3,"div",[["class","d-flex justify-content-center align-items-center"],["style","margin-top: 200px"]],null,null,null,null,null)),(t()(),o.tb(1,0,null,null,2,"div",[["class","spinner-grow text-primary"],["role","status"],["style","width: 4rem; height: 4rem;"]],null,null,null,null,null)),(t()(),o.tb(2,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(t()(),o.Lb(-1,null,["Loading..."]))],null,null)}function A(t){return o.Nb(0,[(t()(),o.tb(0,0,null,null,4,"div",[["class","white px-4 section-header"]],null,null,null,null,null)),(t()(),o.tb(1,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),o.Lb(-1,null,["Projects list"])),(t()(),o.tb(3,0,null,null,1,"p",[["class","grey-text pt-3"]],null,null,null,null,null)),(t()(),o.Lb(-1,null,["Add, edit and delete your projects"])),(t()(),o.tb(5,0,null,null,10,"div",[["class","container-fluid pb-5"]],null,null,null,null,null)),(t()(),o.tb(6,0,null,null,9,"div",[["class","py-5"]],null,null,null,null,null)),(t()(),o.tb(7,0,null,null,2,"button",[["class","ml-3"],["color","primary"],["mdbBtn",""]],null,[[null,"click"]],function(t,e,n){var o=!0;return"click"===e&&(o=!1!==t.component.openAddProjectModal()&&o),o},l.x,l.i)),o.sb(8,114688,null,0,s.I,[o.k,o.F],{color:[0,"color"]},null),(t()(),o.Lb(-1,0,["Add new project"])),(t()(),o.tb(10,0,null,null,2,"app-projects-list",[],null,[[null,"projectDeleted"],[null,"projectEdited"]],function(t,e,n){var o=!0,r=t.component;return"projectDeleted"===e&&(o=!1!==r.onProjectDelete(n)&&o),"projectEdited"===e&&(o=!1!==r.onProjectEdit(n)&&o),o},p.b,p.a)),o.sb(11,114688,null,0,d.a,[],{projects:[0,"projects"]},{projectDeleted:"projectDeleted",projectEdited:"projectEdited"}),o.Gb(131072,b.b,[o.h]),(t()(),o.ib(16777216,null,null,2,null,k)),o.sb(14,16384,null,0,b.k,[o.Q,o.N],{ngIf:[0,"ngIf"]},null),o.Gb(131072,b.b,[o.h])],function(t,e){var n=e.component;t(e,8,0,"primary"),t(e,11,0,o.Mb(e,11,0,o.Fb(e,12).transform(n.projects$))),t(e,14,0,o.Mb(e,14,0,o.Fb(e,15).transform(n.isLoading$)))},null)}function L(t){return o.Nb(0,[(t()(),o.tb(0,0,null,null,1,"app-projects",[],null,null,null,A,$)),o.sb(1,114688,null,0,J,[j.n,s.E,S.a],null,null)],function(t,e){t(e,1,0)},null)}var F=o.pb("app-projects",J,L,{},{},[]),M=n("gIcY"),N=n("t/Na"),I=n("PCNd"),q=n("ZYCi"),x=function(){return function(){}}(),Y={projects:null,loading:!1,error:null};function G(t,e){switch(void 0===t&&(t=Y),e.type){case f.PROJECTS_QUERY:return Object.assign({},t,{loading:!0});case f.PROJECTS_LOADED:return Object.assign({},t,{projects:e.payload.projects,loading:!1});case f.PROJECTS_ERROR:return Object.assign({},t,{loading:!1,error:e.payload.error});default:return t}}var Q=n("mrSG"),U=n("jYNz"),Z=n("/PH2"),B=n("15JJ"),X=n("9Z1F"),z=n("F/XL"),H=n("Xd88"),K=function(){function t(t,e,n){var o=this;this.actions$=t,this.projectsService=e,this.store=n,this.query$=this.actions$.pipe(Object(U.d)(f.PROJECTS_QUERY),Object(Z.a)(this.store.pipe(Object(j.E)(H.e))),Object(B.a)(function(t){return o.projectsService.get(t[1].uid).pipe(Object(v.a)(function(t){var e=t.map(function(t){var e=t.payload.key,n=t.payload.val();return{key:e||null,title:n.title||null,description:n.description||null,photoUrl:n.photoUrl||null}});return new O({projects:e})}),Object(X.a)(function(t){return Object(z.a)(new m({error:t}))}))})),this.added$=this.actions$.pipe(Object(U.d)(f.PROJECT_ADDED),Object(v.a)(function(t){return t.payload}),Object(Z.a)(this.store.pipe(Object(j.E)(H.e))),Object(B.a)(function(t){return o.projectsService.add(t[0].project,t[1].uid)})),this.delete$=this.actions$.pipe(Object(U.d)(f.PROJECT_DELETED),Object(v.a)(function(t){return t.payload}),Object(Z.a)(this.store.pipe(Object(j.E)(H.e))),Object(B.a)(function(t){return o.projectsService.delete(t[0].project,t[1].uid)})),this.edit$=this.actions$.pipe(Object(U.d)(f.PROJECT_EDITED),Object(v.a)(function(t){return t.payload}),Object(Z.a)(this.store.pipe(Object(j.E)(H.e))),Object(B.a)(function(t){return o.projectsService.update(t[0].project,t[1].uid)}))}return Object(Q.__decorate)([Object(U.b)(),Object(Q.__metadata)("design:type",Object)],t.prototype,"query$",void 0),Object(Q.__decorate)([Object(U.b)({dispatch:!1}),Object(Q.__metadata)("design:type",Object)],t.prototype,"added$",void 0),Object(Q.__decorate)([Object(U.b)({dispatch:!1}),Object(Q.__metadata)("design:type",Object)],t.prototype,"delete$",void 0),Object(Q.__decorate)([Object(U.b)({dispatch:!1}),Object(Q.__metadata)("design:type",Object)],t.prototype,"edit$",void 0),t}(),V=n("8cB+");n.d(e,"ProjectsModuleNgFactory",function(){return W});var W=o.qb(r,[],function(t){return o.Cb([o.Db(512,o.j,o.bb,[[8,[l.c,l.d,c.a,i.a,u.a,a.a,F]],[3,o.j],o.z]),o.Db(4608,b.m,b.l,[o.v,[2,b.y]]),o.Db(4608,M.u,M.u,[]),o.Db(4608,N.h,N.n,[b.d,o.D,N.l]),o.Db(4608,N.o,N.o,[N.h,N.m]),o.Db(5120,N.a,function(t){return[t]},[N.o]),o.Db(4608,N.k,N.k,[]),o.Db(6144,N.i,null,[N.k]),o.Db(4608,N.g,N.g,[N.i]),o.Db(6144,N.b,null,[N.g]),o.Db(4608,N.f,N.j,[N.b,o.r]),o.Db(4608,N.c,N.c,[N.f]),o.Db(1073742336,b.c,b.c,[]),o.Db(1073742336,s.bb,s.bb,[]),o.Db(1073742336,s.y,s.y,[]),o.Db(1073742336,s.x,s.x,[]),o.Db(1073742336,s.w,s.w,[]),o.Db(1073742336,M.t,M.t,[]),o.Db(1073742336,M.i,M.i,[]),o.Db(1073742336,s.j,s.j,[]),o.Db(1073742336,s.k,s.k,[]),o.Db(1073742336,I.a,I.a,[]),o.Db(1073742336,q.o,q.o,[[2,q.t],[2,q.k]]),o.Db(1073742336,x,x,[]),o.Db(1073742336,N.e,N.e,[]),o.Db(1073742336,N.d,N.d,[]),o.Db(1073742336,s.rb,s.rb,[]),o.Db(1024,j.F,function(){return[{}]},[]),o.Db(1024,j.j,function(){return[{key:"projects",reducerFactory:j.z,metaReducers:[],initialState:void 0}]},[]),o.Db(1024,j.G,j.H,[o.r,j.F,j.j]),o.Db(1024,j.q,function(){return[G]},[]),o.Db(1024,j.r,function(t){return[t]},[j.q]),o.Db(1024,j.b,function(t,e,n){return[j.w(t,e,n)]},[o.r,j.q,j.r]),o.Db(1073873408,j.o,j.o,[j.G,j.b,j.g,j.p]),o.Db(512,K,K,[U.a,V.a,j.n]),o.Db(1024,U.i,function(t){return[U.e(t)]},[K]),o.Db(1073742336,U.g,U.g,[U.f,U.i,[2,j.p],[2,j.o]]),o.Db(1073742336,r,r,[]),o.Db(1024,q.i,function(){return[[{path:"",component:J}]]},[]),o.Db(256,N.l,"XSRF-TOKEN",[]),o.Db(256,N.m,"X-XSRF-TOKEN",[])])})}}]);